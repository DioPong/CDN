let res;function shorturl(){""!=document.querySelector("#text").value?(document.getElementById("searchbtn").disabled=!0,document.getElementById("searchbtn").innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>Please wait...',fetch(window.location.pathname,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:document.querySelector("#text").value})}).then(function(e){return e.json()}).then(function(e){res=e,document.getElementById("searchbtn").disabled=!1,document.getElementById("searchbtn").innerHTML=" Shorten it",""!==res.key&&(document.getElementById("result").innerHTML=window.location.host+res.key),$("#exampleModal").modal("show")}).catch(function(e){alert("Unknow error. Please retry!"),console.log(e),document.getElementById("searchbtn").disabled=!1,document.getElementById("searchbtn").innerHTML=" Shorten it"})):alert("Url cannot be empty!")}function copyurl(e,t){let n=null;if(t){if((n=document.createElement("div")).id="tempTarget",n.style.opacity="0",e){let o=document.querySelector("#"+e);n.innerText=o[t]}else n.innerText=t;document.body.appendChild(n)}else n=document.querySelector("#"+e);try{let e=document.createRange();e.selectNode(n),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges(),console.log("Copy success")}catch(e){console.log("Copy error")}t&&n.parentElement.removeChild(n)}$(function(){$('[data-toggle="popover"]').popover()}),console.log("https://github.com/xyTom/Url-Shorten-Worker/");let notice="Notice: This service is for demonstration purposes only and the generated short links will automatically expire after 24 hours.";"5it.me"==window.location.host&&(document.getElementById("notice").innerHTML=notice);